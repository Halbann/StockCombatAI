@PART[controller1000]
{
	!mesh = DELETE
	!MODEL {}
	MODEL
	{
		model = KCS/Parts/KAL500/KAL500
	}
	MODEL
	{
		model = SquadExpansion/Serenity/Parts/Robotics/Controllers/Controller1000
	}


	title = KAL Series Robotics Controller
	manufacturer = Moving Parts Experts Group
	description = A first of its kind, this intelligent programmable controller can manage a number of parts across a vessel.\n\nIts not an entirely autonomous entity... yet...
	cost = 1000
	mass = 0.01
	PhysicsSignificance = 1 
	crashTolerance = 8
	category = Robotics
	attachRules = 0,1,0,0,0
	
   	%MODULE[ModuleCombatRobotics]
  	{
		moduleName = ModuleCombatRobotics
  	}
	
	MODULE
	{
		name = ModulePartVariants
		baseVariant = Basic
		baseMass = 0
		baseCost = 0
		VARIANT
		{
			name = Basic
			mass = 0
			cost = 0
			displayName =  KAL-1000
			primaryColor = #3a562a
			secondaryColor = #999999
			GAMEOBJECTS
			{
				controller.001 = true
				controller.002 = false
				controller.003 = false

				indicator = true	
			}
			NODES
			{
				node_attach = 0.0, 0.0, 0.0, 0.0, 0.0, -1.0
			}
		}
		VARIANT
		{
			name = Ship
			mass = -0.005
			cost = -500
			displayName =  KAL-500
			primaryColor = #3a562a
			secondaryColor = #999999
			GAMEOBJECTS
			{
				controller.001 = false
				controller.002 = true
				controller.003 = false

				indicator = false	
			}
			NODES
			{
				node_attach = 0.0, 0.0, 0.0, 0.0, 0.0, -0.5
			}
		}
		VARIANT
		{
			name = Weapon
			mass = -0.005
			cost = -750
			displayName =  KAL-250
			primaryColor = #3a562a
			secondaryColor = #999999
			GAMEOBJECTS
			{
				controller.001 = false
				controller.002 = false
				controller.003 = true

				indicator = false	
			}
			NODES
			{
				node_attach = 0.0, 0.0, 0.0, 0.0, 0.0, -0.25
			}
		}
	}
}


//modify any decoupler to add the decoupler designator module
@PART[*]:HAS[@MODULE[ModuleDecouple]]
{
  	%MODULE[ModuleDecouplerDesignate]
 	{
   	 	moduleName = ModuleDecouplerDesignate
  	}
}


